#include <Display/ST7565.hpp>

uint8_t snoopy[160] = {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                       0x00, 0x00, 0x01, 0x02, 0x02, 0x04, 0x04, 0x04, 0x04, 0x08,
                       0x09, 0x10, 0x20, 0x40, 0x40, 0x40, 0x40, 0x40, 0x20, 0x20,
                       0x10, 0x08, 0x04, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                       0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1C, 0x1C,
                       0x7C, 0x82, 0x02, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
                       0x81, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x3E, 0x01,
                       0x7E, 0xFE, 0xFD, 0x3A, 0xC4, 0x38, 0x00, 0x00, 0x00, 0x00,
                       0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                       0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                       0x00, 0x83, 0xFC, 0x20, 0x20, 0x20, 0xE0, 0x18, 0x07, 0x03,
                       0x81, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                       0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
                       0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x08, 0x08,
                       0x08, 0xF0, 0x28, 0x08, 0x08, 0x08, 0x70, 0x00, 0x38, 0x90,
                       0xA0, 0x80, 0x80, 0x60, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00
};

void setup() {
    Display::ST7565 screen(0,1,2,6,7,15, 13,14,spi0,40);
    screen.SetColor(80,30,150);
    screen.SetFirstLine(0);
    screen.__writeAllToZero__();
    screen.WritePixels(0, 0, &snoopy[0], 40);
    screen.WritePixels(1, 0, &snoopy[40], 40);
    screen.WritePixels(2, 0, &snoopy[80], 40);
    screen.WritePixels(3, 0, &snoopy[120], 40);
}

int main(int argc, char** argv) {
    setup();
    while(1) {

    }
    return 0;
}